"use strict";function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var ipc=require("ipc"),remote=require("remote"),BrowserWindow=remote.require("browser-window"),mainProcess=remote.getGlobal("process");module.exports={send:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];var t=remote.getCurrentWindow().id;BrowserWindow.getAllWindows().forEach(function(n){if(t!==n.id){var o;(o=n.webContents).send.apply(o,["nitrogen:nsync:"+e].concat(r))}})},on:function(e,n){ipc.on("nitrogen:nsync:"+e,n)},off:function(e,n){ipc.removeListener("nitrogen:nsync:"+e,n)},setEnv:function(e,n){return mainProcess.env=Object.assign({},mainProcess.env,_defineProperty({},e,n)),n},getEnv:function(e){return 0===arguments.length?mainProcess.env:mainProcess.env[e]}};