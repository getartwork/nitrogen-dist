"use strict";function _log(e){e.split("\n").forEach(function(e){e.length>0&&messages.push(e+"\n")}),printTimeout||(printTimeout=setTimeout(print,printInterval))}function print(){textarea=textarea||document.getElementById("nsync-log");var e=messages.slice(0,maxPrintSize);messages=messages.slice(maxPrintSize);for(var t=textarea.clientHeight+textarea.scrollTop>=textarea.scrollHeight;textarea.childNodes.length>0&&textarea.childNodes.length+e.length>=scrollback;)textarea.removeChild(textarea.firstChild);e.forEach(function(e){textarea.appendChild(document.createTextNode(e)),t&&(textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight)}),printTimeout=messages.length>0?setTimeout(print,printInterval):null}var textarea=void 0,printTimeout=null,scrollback=200,messages=[],printInterval=500,maxPrintSize=50,clear=function(){textarea=textarea||document.getElementById("nsync-log"),textarea.innerHTML=""},copyToClipboard=function(){textarea=textarea||document.getElementById("nsync-log"),textarea.select(),document.execCommand("copy"),window.getSelection().removeAllRanges()};module.exports={log:function(e){_log(e)},panic:function(e){_log("\n"+e.toString())},setScrollback:function(e){scrollback=e},clear:clear,copyToClipboard:copyToClipboard};