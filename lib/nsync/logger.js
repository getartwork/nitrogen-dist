"use strict";function _log(e){messages.push(e),printTimeout||(printTimeout=setTimeout(print,printInterval))}function print(){var e=messages.slice(0,maxPrintSize);messages=messages.slice(maxPrintSize),textarea=textarea||document.getElementById("nsync-log");for(var t=textarea.clientHeight+textarea.scrollTop>=textarea.scrollHeight;textarea.childNodes.length+messages.length>=scrollback;)textarea.removeChild(textarea.firstChild);e.forEach(function(e){textarea.appendChild(document.createTextNode(e)),t&&(textarea.scrollTop=textarea.scrollHeight-textarea.clientHeight)}),printTimeout=messages.length>0?setTimeout(print,printInterval):null}var textarea=void 0,printTimeout=null,scrollback=200,messages=[],printInterval=500,maxPrintSize=50;module.exports={log:function(e){_log(e)},panic:function(e){_log("\n"+e.toString())},setScrollback:function(e){scrollback=e}};